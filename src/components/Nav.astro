---
import { Icon } from 'astro-icon'
import Link from '../components/Link.astro';

import { navData } from '../data/nav-data';
---

<nav aria-label="Primary">
    <div class="navbar">
        <a href="/" class="logomark" aria-label="Go home">
            <Icon name="logomark" width="60" />
        </a>
        <ul>
            {navData.map(item => (
                <Link text={item.name} href={item.url} style="primary" data-navLink />
            ))}
        </ul>
    </div>
</nav>

<script>
    const navLinks = document.querySelectorAll('[data-navLink]');

    navLinks.forEach(link => {
        if(link.getAttribute('href') === window.location.pathname) {
            link.setAttribute('aria-current', 'page');
        }
    })
</script>
